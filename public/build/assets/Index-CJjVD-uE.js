import{d as n,o as i,m as $,x as v,s as w,c as _,w as r,b as l,a,e as y,u as o,S as x,f as u,t as c,F as g,g as h,i as S}from"./app-pRr85O_R.js";import{_ as T}from"./AppLayout-CHQoQoht.js";import{C as V}from"./Container-CNom6T19.js";import{_ as k,a as C,b as B}from"./Pill-DJQsDyle.js";import{_ as N}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{_ as A}from"./InputLabel-Bl2KydbU.js";import{_ as F}from"./TextInput-CRWPlAEf.js";import{_ as P}from"./SecondaryButton-DCjDZlFg.js";import"./ConfirmationModal-BS9Ok3a5.js";import"./Modal-zUAFfFze.js";import"./PrimaryButton-C1p4Mxdj.js";const j={},D={class:"text-2xl font-bold"};function E(t,b){return i(),n("h1",D,[$(t.$slots,"default")])}const H=N(j,[["render",E]]),I={key:1,class:"text-sm text-gray-600"},L={class:"flex gap-2 mt-4 overflow-x-scroll pb-2 pt-1"},M={class:"mt-4 w-full"},O={class:"flex gap-2"},Q={class:"divide-y-2 mt-4"},U={class:"font-bold text-lg"},z={class:"mt-4"},le={__name:"Index",props:{posts:Array,selectedTopic:Object,topics:Array,query:String},setup(t){let d=v({query:t.query,page:1}),q=w(),f=()=>d.get(q.url);return(m,s)=>(i(),_(T,{title:"Post list"},{default:r(()=>[l(V,null,{default:r(()=>[a("div",null,[t.selectedTopic?(i(),_(o(x),{key:0,class:"text-indigo-500 hover:text-indigo-600",href:m.route("posts.index")},{default:r(()=>s[2]||(s[2]=[a("b",null,"<",-1),u(" Back to all posts")])),_:1},8,["href"])):y("",!0),l(H,{textContent:c(t.selectedTopic?t.selectedTopic.name:"All Posts")},null,8,["textContent"]),t.selectedTopic?(i(),n("p",I,c(t.selectedTopic.description),1)):y("",!0),a("menu",L,[(i(!0),n(g,null,h(t.topics,e=>{var p;return i(),n("li",{key:e.id},[l(k,{link:m.route("posts.index",{topic:e.slug,query:o(d).query}),filled:e.id===((p=t.selectedTopic)==null?void 0:p.id)},{default:r(()=>[u(c(e.name),1)]),_:2},1032,["link","filled"])])}),128))])]),a("div",M,[a("form",{class:"w-full",onSubmit:s[1]||(s[1]=S((...e)=>o(f)&&o(f)(...e),["prevent"]))},[l(A,{for:"query"},{default:r(()=>s[3]||(s[3]=[u("Search")])),_:1}),a("div",O,[l(F,{modelValue:o(d).query,"onUpdate:modelValue":s[0]||(s[0]=e=>o(d).query=e),class:"w-full",id:"query"},null,8,["modelValue"]),l(P,{type:"submit"},{default:r(()=>s[4]||(s[4]=[u("Search")])),_:1})])],32)]),a("ul",Q,[(i(!0),n(g,null,h(t.posts.data,e=>(i(),n("li",{key:e.id,class:"px-2 py-4 my-2 hover:text-blue-800 flex justify-between"},[l(o(x),{href:e.routes.show},{default:r(()=>[a("span",U,c(e.title),1),l(C,{created_at:e.created_at,user:e.user},null,8,["created_at","user"])]),_:2},1032,["href"]),a("div",z,[l(k,{link:m.route("posts.index",{topic:e.topic.slug,query:o(d).query})},{default:r(()=>[u(c(e.topic.name),1)]),_:2},1032,["link"])])]))),128))]),l(B,{meta:t.posts.meta},null,8,["meta"])]),_:1})]),_:1}))}};export{le as default};
